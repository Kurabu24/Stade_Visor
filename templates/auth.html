{% extends 'base.html' %}

{% block content %}
  <div class="flex justify-center items-center min-h-[calc(100vh-4rem)] bg-gradient-to-b from-gray-900 via-indigo-900 to-gray-800">
    <div class="relative w-full max-w-md bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-2xl p-8">
      <input type="checkbox" id="chk" class="hidden" />

      <!-- Login Form -->
      <div id="login-form" class="space-y-6 transition-all duration-500 ease-in-out">
        <h2 class="text-3xl font-bold text-center text-white mb-8">Connexion</h2>
        <form action="{{ url_for('auth') }}" method="POST" class="space-y-6">
          <input type="hidden" name="form_type" value="login" />
          <div>
            <label for="login-email" class="block text-sm font-medium text-gray-200">Email</label>
            <input type="email" name="email" id="login-email" placeholder="Email" required class="w-full px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition" />
          </div>
          <div>
            <label for="login-password" class="block text-sm font-medium text-gray-200">Mot de passe</label>
            <input type="password" name="password" id="login-password" placeholder="Mot de passe" required class="w-full px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition" />
          </div>
          <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg shadow-md transition-transform duration-200 hover:scale-105">Se connecter</button>
        </form>
        <p class="text-sm text-center text-gray-400 mt-4">
          Pas encore inscrit ?
          <label for="chk" class="text-blue-400 hover:underline cursor-pointer">Créer un compte</label>
        </p>
      </div>

      <!-- Register Form -->
      <div id="register-form" class="space-y-6 absolute inset-0 opacity-0 pointer-events-none transition-all duration-500 ease-in-out">
        <h2 class="text-3xl font-bold text-center text-white mb-8">Inscription</h2>
        <form action="{{ url_for('auth') }}" method="POST" class="space-y-6">
          <input type="hidden" name="form_type" value="register" />
          <div>
            <label for="reg-email" class="block text-sm font-medium text-gray-200">Email</label>
            <input type="email" name="email" id="reg-email" placeholder="Email" required class="w-full px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition" />
          </div>
          <div>
            <label for="reg-password" class="block text-sm font-medium text-gray-200">Mot de passe</label>
            <input type="password" name="password" id="reg-password" placeholder="Mot de passe" required class="w-full px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition" />
          </div>
          <div>
            <label for="password_confirm" class="block text-sm font-medium text-gray-200">Confirmer le mot de passe</label>
            <input type="password" name="password_confirm" id="password_confirm" placeholder="Confirmer le mot de passe" required class="w-full px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition" />
          </div>
          <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg shadow-md transition-transform duration-200 hover:scale-105">S'inscrire</button>
        </form>
        <p class="text-sm text-center text-gray-400 mt-4">
          Déjà un compte ?
          <label for="chk" class="text-blue-400 hover:underline cursor-pointer">Connexion</label>
        </p>
      </div>
    </div>
  </div>

  <style>
    #chk:checked ~ #login-form {
      opacity: 0;
      pointer-events: none;
    }
    #chk:checked ~ #register-form {
      opacity: 1;
      pointer-events: auto;
    }
  </style>
{% endblock %}
